{% extends 'base.html' %}

{% block content %}
<section class="section-conten padding-y bg">
  {% include 'includes/alerts.html' %}
  <div class="container">
    <div class="row">
      {% include 'includes/dashboard_sidebar.html' %}

      <main class="col-md-9">
        <article class="card shadow-sm border-0">
          <header class="card-header bg-white border-0 d-flex align-items-center justify-content-between">
            <strong class="d-inline-block">Your Order History</strong>
            <!-- optional subtle note -->
            <span class="text-muted small">{{ orders|length }} record{{ orders|length|pluralize }}</span>
          </header>

          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover table-striped align-middle mb-0">
                <thead class="table-light">
                  <tr class="text-uppercase small text-muted">
                    <th scope="col" class="fw-semibold">Order #</th>
                    <th scope="col" class="fw-semibold">Billing Name</th>
                    <th scope="col" class="fw-semibold">Phone</th>
                    <th scope="col" class="fw-semibold text-end">Order Total</th>
                    <th scope="col" class="fw-semibold">Date</th>
                  </tr>
                </thead>
                <tbody>
                  {% for order in orders %}
                  <tr>
                    <th scope="row" class="fw-semibold"><a href="{% url 'order_detail' order.order_number %}">{{ order.order_number }}</a></th>
                    <td>{{ order.full_name }}</td>
                    <td><span class="text-muted">{{ order.phone_name }}</span></td>
                    <td class="text-end">Tk. {{ order.order_total }}</td>
                    <td><span class="text-muted">{{ order.created_at|date:"M d, Y, h:i A" }}</span></td>
                  </tr>
                  {% empty %}
                  <tr>
                    <td colspan="5" class="text-center py-5">
                      <div class="text-muted">No orders found.</div>
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </article>
      </main>
    </div>
  </div>
</section>
{% endblock %}
